(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,t=>{"use strict";var e=t.i(38036);async function a(t,a,n){let s,c=(0,e.getAuth)();try{s=await fetch(!function(){{let t=localStorage.getItem("USE_MOCK");if("true"===t)return!0;if("false"===t)return!1}return!0}()?"http://localhost:8000"+t:`/api/mock${t}`,{method:n||(a?"POST":"GET"),headers:{"Content-Type":"application/json",...c?{Authorization:`Bearer ${c.token}`}:{}},body:a?JSON.stringify(a):void 0})}catch(t){throw Error("Network error: "+(t?.message||String(t)))}if(!s.ok)throw Error(await s.text().catch(()=>`HTTP ${s.status}`));try{return await s.json()}catch(t){return null}}t.s(["api",0,{health:()=>a("/health"),chat:t=>a("/chat",t),ownerGet:()=>a("/ownercover/settings"),ownerSet:t=>a("/ownercover/settings",t),ownerInbound:t=>a("/ownercover/handleInbound",t),contacts:()=>a("/contacts"),createContact:t=>a("/contacts",t,"POST"),updateContact:(t,e)=>a(`/contacts/${t}`,e,"PUT"),deleteContact:t=>a(`/contacts/${t}`,void 0,"DELETE")}])},35255,t=>{"use strict";var e=t.i(43476),a=t.i(71645),n=t.i(54858);function s(){let[t,s]=(0,a.useState)(null),[c,i]=(0,a.useState)(null),[l,r]=(0,a.useState)(null),[o,u]=(0,a.useState)(""),[d,h]=(0,a.useState)("");async function m(){i(null);try{let t=await n.api.contacts();s(t||[])}catch(t){i(t?.message||String(t)),s(null)}}async function g(){try{l?.id?await n.api.updateContact(l.id,{name:o,email:d}):await n.api.createContact({name:o,email:d}),r(null),await m()}catch(t){i(t?.message||String(t))}}async function p(t){try{await n.api.deleteContact(t),await m()}catch(t){i(t?.message||String(t))}}return(0,a.useEffect)(()=>{m()},[]),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{children:"Contacts"}),c&&(0,e.jsxs)("div",{className:"muted",children:["Error: ",c]}),(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsx)("button",{className:"btn",onClick:function(){r({}),u(""),h("")},children:"New Contact"}),(0,e.jsx)("button",{className:"btn",onClick:m,style:{marginLeft:8},children:"Reload"})]}),l&&(0,e.jsxs)("div",{style:{marginBottom:12},children:[(0,e.jsx)("input",{className:"input",placeholder:"Name",value:o,onChange:t=>u(t.target.value)}),(0,e.jsx)("input",{className:"input",placeholder:"Email",value:d,onChange:t=>h(t.target.value)}),(0,e.jsxs)("div",{className:"row",style:{marginTop:8},children:[(0,e.jsx)("button",{className:"btn primary",onClick:g,children:"Save"}),(0,e.jsx)("button",{className:"btn",onClick:()=>r(null),children:"Cancel"})]})]}),t?(0,e.jsxs)("div",{children:[0===t.length&&(0,e.jsx)("div",{className:"muted",children:"No contacts found."}),(0,e.jsx)("ul",{children:t.map((t,a)=>(0,e.jsxs)("li",{children:[(0,e.jsx)("b",{children:t.name})," â€” ",(0,e.jsx)("span",{className:"muted",children:t.email}),(0,e.jsxs)("div",{className:"row",style:{marginTop:6},children:[(0,e.jsx)("button",{className:"btn",onClick:()=>{r(t),u(t.name||""),h(t.email||"")},children:"Edit"}),(0,e.jsx)("button",{className:"btn",onClick:()=>p(t.id),style:{marginLeft:8},children:"Delete"})]})]},t.id||a))})]}):(0,e.jsx)("div",{className:"muted",children:"No contacts loaded."})]})}t.s(["default",()=>s])}]);