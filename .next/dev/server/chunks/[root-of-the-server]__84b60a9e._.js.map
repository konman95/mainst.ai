{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/konnerwest/mainst1/mainstai/app/api/mock/chat/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nfunction classify(message: string) {\n  const lower = message.toLowerCase();\n  if (lower.includes(\"price\") || lower.includes(\"cost\")) {\n    return { intent: \"Pricing\", confidence: 0.92 };\n  }\n  if (lower.includes(\"hours\") || lower.includes(\"open\")) {\n    return { intent: \"Hours\", confidence: 0.9 };\n  }\n  if (lower.includes(\"complaint\") || lower.includes(\"refund\")) {\n    return { intent: \"Complaint\", confidence: 0.75 };\n  }\n  return { intent: \"General\", confidence: 0.82 };\n}\n\nexport async function POST(request: Request) {\n  const body = await request.json().catch(() => ({}));\n  const message = String(body?.message || \"\");\n  const { intent, confidence } = classify(message);\n  const reply =\n    intent === \"Pricing\"\n      ? \"Thanks for asking! Pricing depends on your service needs. If you can share a few details, I can give a clear range.\"\n      : intent === \"Hours\"\n        ? \"We are open Monday through Friday from 9am to 6pm. If you need a different time, I can check availability.\"\n        : intent === \"Complaint\"\n          ? \"I’m sorry that happened. I’ve flagged this for review and will connect you with an owner for a quick resolution.\"\n          : \"Thanks for reaching out. I can help with details or connect you to the right person. What can I assist with?\";\n\n  return NextResponse.json({\n    reply,\n    intent,\n    confidence,\n    safe: intent !== \"Complaint\"\n  });\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,SAAS,SAAS,OAAe;IAC/B,MAAM,QAAQ,QAAQ,WAAW;IACjC,IAAI,MAAM,QAAQ,CAAC,YAAY,MAAM,QAAQ,CAAC,SAAS;QACrD,OAAO;YAAE,QAAQ;YAAW,YAAY;QAAK;IAC/C;IACA,IAAI,MAAM,QAAQ,CAAC,YAAY,MAAM,QAAQ,CAAC,SAAS;QACrD,OAAO;YAAE,QAAQ;YAAS,YAAY;QAAI;IAC5C;IACA,IAAI,MAAM,QAAQ,CAAC,gBAAgB,MAAM,QAAQ,CAAC,WAAW;QAC3D,OAAO;YAAE,QAAQ;YAAa,YAAY;QAAK;IACjD;IACA,OAAO;QAAE,QAAQ;QAAW,YAAY;IAAK;AAC/C;AAEO,eAAe,KAAK,OAAgB;IACzC,MAAM,OAAO,MAAM,QAAQ,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IACjD,MAAM,UAAU,OAAO,MAAM,WAAW;IACxC,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,SAAS;IACxC,MAAM,QACJ,WAAW,YACP,wHACA,WAAW,UACT,+GACA,WAAW,cACT,qHACA;IAEV,OAAO,gJAAY,CAAC,IAAI,CAAC;QACvB;QACA;QACA;QACA,MAAM,WAAW;IACnB;AACF"}}]
}