module.exports=[53250,a=>{"use strict";var b=a.i(47033);async function c(a,c,d){let e,f=(0,b.getAuth)();try{e=await fetch(`/api/mock${a}`,{method:d||(c?"POST":"GET"),headers:{"Content-Type":"application/json",...f?{Authorization:`Bearer ${f.token}`}:{}},body:c?JSON.stringify(c):void 0})}catch(a){throw Error("Network error: "+(a?.message||String(a)))}if(!e.ok)throw Error(await e.text().catch(()=>`HTTP ${e.status}`));try{return await e.json()}catch(a){return null}}a.s(["api",0,{health:()=>c("/health"),chat:a=>c("/chat",a),ownerGet:()=>c("/ownercover/settings"),ownerSet:a=>c("/ownercover/settings",a),ownerInbound:a=>c("/ownercover/handleInbound",a),contacts:()=>c("/contacts"),createContact:a=>c("/contacts",a,"POST"),updateContact:(a,b)=>c(`/contacts/${a}`,b,"PUT"),deleteContact:a=>c(`/contacts/${a}`,void 0,"DELETE")}])},16133,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(53250);function e(){let[a,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)("");async function n(){g(null);try{let a=await d.api.contacts();e(a||[])}catch(a){g(a?.message||String(a)),e(null)}}async function o(){try{h?.id?await d.api.updateContact(h.id,{name:j,email:l}):await d.api.createContact({name:j,email:l}),i(null),await n()}catch(a){g(a?.message||String(a))}}async function p(a){try{await d.api.deleteContact(a),await n()}catch(a){g(a?.message||String(a))}}return(0,c.useEffect)(()=>{n()},[]),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Contacts"}),f&&(0,b.jsxs)("div",{className:"muted",children:["Error: ",f]}),(0,b.jsxs)("div",{style:{marginBottom:12},children:[(0,b.jsx)("button",{className:"btn",onClick:function(){i({}),k(""),m("")},children:"New Contact"}),(0,b.jsx)("button",{className:"btn",onClick:n,style:{marginLeft:8},children:"Reload"})]}),h&&(0,b.jsxs)("div",{style:{marginBottom:12},children:[(0,b.jsx)("input",{className:"input",placeholder:"Name",value:j,onChange:a=>k(a.target.value)}),(0,b.jsx)("input",{className:"input",placeholder:"Email",value:l,onChange:a=>m(a.target.value)}),(0,b.jsxs)("div",{className:"row",style:{marginTop:8},children:[(0,b.jsx)("button",{className:"btn primary",onClick:o,children:"Save"}),(0,b.jsx)("button",{className:"btn",onClick:()=>i(null),children:"Cancel"})]})]}),a?(0,b.jsxs)("div",{children:[0===a.length&&(0,b.jsx)("div",{className:"muted",children:"No contacts found."}),(0,b.jsx)("ul",{children:a.map((a,c)=>(0,b.jsxs)("li",{children:[(0,b.jsx)("b",{children:a.name})," â€” ",(0,b.jsx)("span",{className:"muted",children:a.email}),(0,b.jsxs)("div",{className:"row",style:{marginTop:6},children:[(0,b.jsx)("button",{className:"btn",onClick:()=>{i(a),k(a.name||""),m(a.email||"")},children:"Edit"}),(0,b.jsx)("button",{className:"btn",onClick:()=>p(a.id),style:{marginLeft:8},children:"Delete"})]})]},a.id||c))})]}):(0,b.jsx)("div",{className:"muted",children:"No contacts loaded."})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=_c5014614._.js.map